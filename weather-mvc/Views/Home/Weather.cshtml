@{ 
    ViewBag.title = "Weather";
}

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")    
@Styles.Render("~/Content/bootstrap.css")
@Styles.Render("~/Content/weather.css")
        
<div class="grid">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <h4>Enter city: </h4>
            <div class="input-group ">
                @Html.TextBox("location", "", new { @class = "form-control", @id = "inputText"})
                <span class="input-group-btn"><input type="submit" value="Get weather" class="btn btn-primary" id="submitButton"/></span>
            </div>
            <br />
            <p>@Html.RadioButton("timescale", "daily", true) Daily Forecast</p>
            <p>@Html.RadioButton("timescale", "hourly", false) 3 Hour Forecast</p>
        </div>
    </div>
    <div id="responseContainer" class="row">

    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        $('#submitButton').click(function () {
            var requestedCity = document.getElementById("inputText").value;
            $('#responseContainer').text("Loading...");
            $('#responseContainer').load('@Url.Action("WeatherAnswerPartial", "Home")?location=' + encodeURIComponent(requestedCity));
        });
    });
</script>